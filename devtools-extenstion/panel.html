<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Forge Query DevTools</title>
  <style>
    /* =============================================
       Bear UI inspired reset & Tailwind utility classes
       for Chrome Extension (CSP compatible)
    ============================================= */
    
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    
    :root {
      --forge-pink: #ec4899;
      --forge-pink-hover: #db2777;
      --forge-pink-10: rgba(236, 72, 153, 0.1);
      --forge-pink-20: rgba(236, 72, 153, 0.2);
      --bear-bg-primary: #111827;
      --bear-bg-secondary: #1f2937;
      --bear-bg-tertiary: #374151;
      --bear-border: #374151;
      --bear-text-primary: #f9fafb;
      --bear-text-secondary: #9ca3af;
      --bear-text-muted: #6b7280;
      --success: #22c55e;
      --warning: #f59e0b;
      --error: #ef4444;
      --info: #3b82f6;
      --purple: #a855f7;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bear-bg-primary);
      color: var(--bear-text-primary);
      font-size: 12px;
      line-height: 1.5;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: var(--bear-bg-secondary); border-radius: 3px; }
    ::-webkit-scrollbar-thumb { background: var(--bear-bg-tertiary); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--bear-text-muted); }
    
    /* ==========================================
       Tailwind-like utilities (no external CDN)
    ========================================== */
    
    /* Display */
    .flex { display: flex; }
    .grid { display: grid; }
    .hidden { display: none; }
    .block { display: block; }
    .inline-flex { display: inline-flex; }
    
    /* Flex */
    .flex-1 { flex: 1 1 0%; }
    .flex-col { flex-direction: column; }
    .flex-wrap { flex-wrap: wrap; }
    .items-center { align-items: center; }
    .justify-center { justify-content: center; }
    .justify-between { justify-content: space-between; }
    
    /* Grid */
    .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    .grid-cols-\[24px_1fr_80px_50px_80px_90px\] { grid-template-columns: 24px 1fr 80px 50px 80px 90px; }
    .grid-cols-\[80px_70px_1fr\] { grid-template-columns: 80px 70px 1fr; }
    
    /* Gap */
    .gap-1 { gap: 0.25rem; }
    .gap-2 { gap: 0.5rem; }
    .gap-3 { gap: 0.75rem; }
    .gap-4 { gap: 1rem; }
    
    /* Padding */
    .p-1 { padding: 0.25rem; }
    .p-2 { padding: 0.5rem; }
    .p-3 { padding: 0.75rem; }
    .p-4 { padding: 1rem; }
    .px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
    .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
    .px-4 { padding-left: 1rem; padding-right: 1rem; }
    .py-0\.5 { padding-top: 0.125rem; padding-bottom: 0.125rem; }
    .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
    .py-8 { padding-top: 2rem; padding-bottom: 2rem; }
    .pt-4 { padding-top: 1rem; }
    
    /* Margin */
    .mb-1 { margin-bottom: 0.25rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .mb-3 { margin-bottom: 0.75rem; }
    .mb-4 { margin-bottom: 1rem; }
    .mb-6 { margin-bottom: 1.5rem; }
    .mt-1 { margin-top: 0.25rem; }
    
    /* Width/Height */
    .w-2 { width: 0.5rem; }
    .w-2\.5 { width: 0.625rem; }
    .w-16 { width: 4rem; }
    .w-72 { width: 18rem; }
    .w-full { width: 100%; }
    .h-2 { height: 0.5rem; }
    .h-2\.5 { height: 0.625rem; }
    .max-h-24 { max-height: 6rem; }
    .max-h-32 { max-height: 8rem; }
    
    /* Overflow */
    .overflow-auto { overflow: auto; }
    .overflow-hidden { overflow: hidden; }
    .overflow-y-auto { overflow-y: auto; }
    
    /* Border */
    .rounded { border-radius: 0.25rem; }
    .rounded-lg { border-radius: 0.5rem; }
    .rounded-full { border-radius: 9999px; }
    .border { border-width: 1px; }
    .border-b { border-bottom-width: 1px; }
    .border-b-2 { border-bottom-width: 2px; }
    .border-l { border-left-width: 1px; }
    .border-l-2 { border-left-width: 2px; }
    .border-t { border-top-width: 1px; }
    .border-gray-600 { border-color: #4b5563; }
    .border-gray-700 { border-color: var(--bear-bg-tertiary); }
    .border-l-pink-500 { border-left-color: var(--forge-pink); }
    
    /* Background */
    .bg-transparent { background-color: transparent; }
    .bg-gray-700 { background-color: var(--bear-bg-tertiary); }
    .bg-gray-700\/50 { background-color: rgba(55, 65, 81, 0.5); }
    .bg-gray-800 { background-color: var(--bear-bg-secondary); }
    .bg-gray-850 { background-color: #1a202c; }
    .bg-gray-900 { background-color: var(--bear-bg-primary); }
    .bg-pink-500 { background-color: var(--forge-pink); }
    .bg-pink-500\/10 { background-color: var(--forge-pink-10); }
    .bg-pink-500\/20 { background-color: var(--forge-pink-20); }
    .bg-green-500 { background-color: var(--success); }
    .bg-green-500\/20 { background-color: rgba(34, 197, 94, 0.2); }
    .bg-amber-500 { background-color: var(--warning); }
    .bg-amber-500\/20 { background-color: rgba(245, 158, 11, 0.2); }
    .bg-red-500 { background-color: var(--error); }
    .bg-red-500\/20 { background-color: rgba(239, 68, 68, 0.2); }
    .bg-red-900\/20 { background-color: rgba(127, 29, 29, 0.2); }
    .bg-blue-500 { background-color: var(--info); }
    .bg-blue-500\/20 { background-color: rgba(59, 130, 246, 0.2); }
    .bg-purple-500 { background-color: var(--purple); }
    .bg-purple-500\/20 { background-color: rgba(168, 85, 247, 0.2); }
    .bg-gray-500 { background-color: var(--bear-text-muted); }
    .bg-gray-500\/20 { background-color: rgba(107, 114, 128, 0.2); }
    .bg-gray-600\/50 { background-color: rgba(75, 85, 99, 0.5); }
    
    /* Text colors */
    .text-white { color: #fff; }
    .text-gray-200 { color: #e5e7eb; }
    .text-gray-300 { color: #d1d5db; }
    .text-gray-400 { color: var(--bear-text-secondary); }
    .text-gray-500 { color: var(--bear-text-muted); }
    .text-pink-400 { color: var(--forge-pink); }
    .text-green-400 { color: var(--success); }
    .text-amber-400 { color: var(--warning); }
    .text-red-400 { color: var(--error); }
    .text-red-300 { color: #fca5a5; }
    .text-blue-400 { color: var(--info); }
    .text-purple-400 { color: var(--purple); }
    
    /* Font size */
    .text-\[9px\] { font-size: 9px; }
    .text-\[10px\] { font-size: 10px; }
    .text-\[11px\] { font-size: 11px; }
    .text-sm { font-size: 0.875rem; }
    .text-2xl { font-size: 1.5rem; }
    .text-3xl { font-size: 1.875rem; }
    
    /* Font */
    .font-mono { font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Menlo, Consolas, monospace; }
    .font-medium { font-weight: 500; }
    .font-semibold { font-weight: 600; }
    .font-bold { font-weight: 700; }
    .uppercase { text-transform: uppercase; }
    
    /* Text */
    .text-center { text-align: center; }
    .truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .break-all { word-break: break-all; }
    .whitespace-pre-wrap { white-space: pre-wrap; }
    
    /* Cursor */
    .cursor-pointer { cursor: pointer; }
    
    /* Position */
    .sticky { position: sticky; }
    .top-0 { top: 0; }
    
    /* Transitions */
    .transition-colors { transition-property: color, background-color, border-color; transition-duration: 150ms; }
    
    /* Hover states */
    .hover\:bg-gray-700:hover { background-color: var(--bear-bg-tertiary); }
    .hover\:bg-gray-700\/50:hover { background-color: rgba(55, 65, 81, 0.5); }
    .hover\:bg-blue-500\/20:hover { background-color: rgba(59, 130, 246, 0.2); }
    .hover\:bg-amber-500\/20:hover { background-color: rgba(245, 158, 11, 0.2); }
    .hover\:bg-red-500\/20:hover { background-color: rgba(239, 68, 68, 0.2); }
    
    /* Space */
    .space-y-1 > * + * { margin-top: 0.25rem; }
    .space-y-3 > * + * { margin-top: 0.75rem; }
    
    /* Animation */
    @keyframes pulse-dot {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    .animate-pulse-dot { animation: pulse-dot 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
    
    /* ==========================================
       Bear UI Components
    ========================================== */
    
    .Bear-Header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      background: var(--bear-bg-secondary);
      border-bottom: 1px solid var(--bear-border);
    }
    
    .Bear-Logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .Bear-Logo svg { width: 24px; height: 24px; }
    .Bear-Logo-text { font-weight: 600; font-size: 14px; }
    
    .Bear-Badge {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 10px;
      font-weight: 600;
    }
    
    .Bear-Button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s ease;
      border: none;
      gap: 6px;
    }
    
    .Bear-Button--outline {
      background: transparent;
      border: 1px solid var(--bear-border);
      color: var(--bear-text-secondary);
    }
    .Bear-Button--outline:hover {
      background: var(--bear-bg-tertiary);
      color: var(--bear-text-primary);
    }
    
    .Bear-Tabs {
      display: flex;
      gap: 4px;
      padding: 8px 16px;
      border-bottom: 1px solid var(--bear-border);
    }
    
    .Bear-Tab {
      padding: 6px 14px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
      border: none;
      background: transparent;
      color: var(--bear-text-secondary);
    }
    .Bear-Tab:hover { background: var(--bear-bg-tertiary); }
    .Bear-Tab--active { background: var(--forge-pink) !important; color: white !important; }
    
    .Bear-Input {
      width: 100%;
      padding: 8px 12px;
      border-radius: 6px;
      border: 1px solid var(--bear-border);
      background: var(--bear-bg-primary);
      color: var(--bear-text-primary);
      font-size: 11px;
      transition: border-color 0.15s;
    }
    .Bear-Input:focus {
      outline: none;
      border-color: var(--forge-pink);
      box-shadow: 0 0 0 2px var(--forge-pink-20);
    }
    .Bear-Input::placeholder { color: var(--bear-text-muted); }
    
    .Bear-Search {
      padding: 12px 16px;
      border-bottom: 1px solid var(--bear-border);
    }
    
    .Bear-Content { flex: 1; overflow: hidden; display: flex; }
    
    .Bear-Footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 16px;
      background: var(--bear-bg-secondary);
      border-top: 1px solid var(--bear-border);
      font-size: 10px;
      color: var(--bear-text-muted);
    }
    .Bear-Footer a { color: var(--bear-text-secondary); text-decoration: none; margin-left: 12px; }
    .Bear-Footer a:hover { color: var(--forge-pink); }
    
    /* Forge Query specific */
    .Forge-Query__table-header {
      background: var(--bear-bg-secondary);
    }
    
    .Forge-Query__table-row:hover {
      background: rgba(55, 65, 81, 0.4);
    }
    
    .Forge-Query__stat-card {
      transition: transform 0.15s;
    }
    .Forge-Query__stat-card:hover {
      transform: translateY(-2px);
    }
    
    pre {
      margin: 0;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="Bear-Header">
    <div class="Bear-Logo">
      <svg viewBox="0 0 48 48" fill="none">
        <path d="M24 6C13.5 6 5 14.5 5 25s8.5 19 19 19c4.5 0 8.7-1.6 12-4.2" stroke="#ec4899" stroke-width="4" stroke-linecap="round"/>
        <path d="M36 40l8 6" stroke="#ec4899" stroke-width="4" stroke-linecap="round"/>
        <circle cx="24" cy="6" r="4" fill="#ec4899"/>
        <circle cx="23" cy="5" r="1.2" fill="#1f2937"/>
      </svg>
      <span class="Bear-Logo-text">Forge Query</span>
      <span class="Bear-Badge bg-pink-500/20 text-pink-400">v1.0.0</span>
    </div>
    <div class="flex items-center gap-2">
      <span id="connection-status" class="Bear-Badge bg-gray-500/20 text-gray-400 flex items-center gap-1">
        <span class="w-2 h-2 rounded-full bg-gray-500"></span>
        Waiting...
      </span>
      <button id="refresh-btn" class="Bear-Button Bear-Button--outline">
        ‚Üª Refresh
      </button>
      <button id="clear-btn" class="Bear-Button Bear-Button--outline">
        Clear
      </button>
    </div>
  </header>
  
  <!-- Tabs -->
  <nav class="Bear-Tabs">
    <button class="Bear-Tab Bear-Tab--active" data-tab="queries">Queries <span id="queries-count">(0)</span></button>
    <button class="Bear-Tab" data-tab="logs">Logs <span id="logs-count">(0)</span></button>
    <button class="Bear-Tab" data-tab="cache">Cache <span id="cache-count">(0)</span></button>
  </nav>
  
  <!-- Search -->
  <div class="Bear-Search">
    <input type="text" id="search-input" class="Bear-Input" placeholder="Search queries by key...">
  </div>
  
  <!-- Content -->
  <main class="Bear-Content" id="content">
    <div class="flex-1 flex items-center justify-center text-gray-500">
      <div class="text-center">
        <div class="text-3xl mb-2">üêç</div>
        <div>Waiting for Forge Query...</div>
        <div class="text-[10px] text-gray-500 mt-1">
          Make sure your app has DevTools enabled
        </div>
      </div>
    </div>
  </main>
  
  <!-- Footer -->
  <footer class="Bear-Footer">
    <div>Tab: <span id="tab-id">-</span> | Updated: <span id="last-update">-</span></div>
    <div>
      <a href="https://forgedevstack.com/query" target="_blank">Docs</a>
      <a href="https://github.com/forgedevstack/forge-query" target="_blank">GitHub</a>
    </div>
  </footer>
  
  <script src="dist/panel.js"></script>
</body>
</html>
